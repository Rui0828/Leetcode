# 1863. Sum of All Subset XOR Totals

## ðŸ“Œ ç‰¹æ®Šç¾è±¡

å°æ–¼ä¸€å€‹ç”± 0 æˆ– 1 çµ„æˆçš„ `n` å€‹ bitsï¼ˆé™¤äº†å…¨éƒ¨éƒ½æ˜¯ 0ï¼‰ï¼Œæ‰€æœ‰å­é›†çš„ XOR çµæžœä¸­ï¼Œ**1 çš„å€‹æ•¸ç¸½å’Œå¿…ç‚º $2^{n-1}$**ã€‚

#### âœ… ä¾‹å­ï¼ˆn = 3ï¼‰

å‡è¨­ `nums = [0, 0, 1]`ï¼Œå…¶æ‰€æœ‰å­é›† XOR çµæžœç‚ºï¼š

```
[] â†’ 0
[0] â†’ 0
[0] â†’ 0
[1] â†’ 1
[0,0] â†’ 0
[0,1] â†’ 1
[0,1] â†’ 1
[0,0,1] â†’ 1
```

å…±æœ‰ 8 å€‹å­é›†ï¼Œå…¶ä¸­æœ‰ 4 å€‹ XOR çµæžœç‚º 1ã€‚ 
ðŸ‘‰ ç¬¦åˆè¦å¾‹ï¼š $2^{n-1} = 2^{2} = 4$

##  ðŸ§  æ•¸å­¸è§£é‡‹

å‡è¨­æœ‰ `p` å€‹ 1ï¼Œ`q` å€‹ 0ï¼Œç¸½æ•¸é‡ç‚º `n` (å³ `n = p + q`)ã€‚  
è¦çµ„åˆå‡º XOR çµæžœç‚º 1 ï¼Œè¦æœ‰**å¥‡æ•¸å€‹** 1 åŠ ä¸Šä»»æ„çµ„åˆçš„ 0ã€‚
- å¥‡æ•¸å€‹ 1 çš„æ–¹æ³•æ•¸ï¼š $\binom{p}{1} + \binom{p}{3} + \binom{p}{5} + \cdots = 2^{p-1}$  ï¼ˆ[è­‰æ˜Ž](#why--) åœ¨ä¸‹é¢ï¼‰  
- ä»»æ„çµ„åˆçš„ 0 çš„æ–¹æ³•æ•¸ï¼š $2^{q}$

ç¸½æ–¹æ³•æ•¸ï¼š

$$
2^{p-1} \cdot 2^q = 2 ^ {p+q-1} = 2 ^ {n-1}
$$

---
## ðŸ“ é¡Œç›®èªªæ˜Ž

å°æ–¼é¡Œç›®ä¸­çš„ä»»æ„æ•¸å­—é™£åˆ—ï¼Œæˆ‘å€‘å¯ä»¥åˆ©ç”¨ä¸Šè¿°æ•¸å­¸æ€§è³ªä¾†è§£æ±ºï¼š

1. å°æ–¼ä»»æ„æ•¸å­—çš„æ¯å€‹äºŒé€²åˆ¶ bitï¼Œè‹¥è©²ä½ç½®ä¸Šæœ‰æ•¸å­—åŒ…å« 1ï¼Œå‰‡åœ¨æ‰€æœ‰å­é›†çš„ XOR ç¸½å’Œä¸­ï¼Œé€™å€‹ä½ç½®æœƒè²¢ç» $2^{n-1}$ æ¬¡çš„ 1ã€‚

2. å› æ­¤ï¼Œæˆ‘å€‘å¯ä»¥å…ˆè¨ˆç®—æ‰€æœ‰æ•¸å­—çš„ Bitwise ORï¼Œæ‰¾å‡ºæ‰€æœ‰åŒ…å« 1 çš„ä½ç½®ï¼Œå†ä¹˜ä»¥ $2^{n-1}$ å¾—åˆ°æœ€çµ‚çµæžœã€‚

### Python Code: 
```python
class Solution:
    def subsetXORSum(self, nums: List[int]) -> int:
        or_all = 0
        for num in nums:
            or_all |= num
        return or_all * (1 << (len(nums) - 1))
```

---
## ðŸ” Why $\binom{n}{1} + \binom{n}{3} + \binom{n}{5} + \cdots = 2^{n-1}$ ?

æ ¹æ“šäºŒé …å¼å®šç†ï¼š

$$
(1 + 1)^n = \sum_{k=0}^{n} \binom{n}{k} = 2^n
$$

$$
(1 - 1)^n = \sum_{k=0}^{n} (-1)^k \binom{n}{k} = 0
$$

å°‡ä¸Šé¢å…©å¼ç›¸æ¸›ï¼š

$$
(1 + 1)^n - (1 - 1)^n = 2^n - 0 = 2^n
$$

æ‰€ä»¥ï¼š

$$
\sum_{k=0}^{n} \left[ 1 - (-1)^k \right] \binom{n}{k} = 2^n
$$


æ³¨æ„ï¼š
- è‹¥ $k$ ç‚ºå¶æ•¸ï¼Œå‰‡ $1 - (-1)^k = 0$
- è‹¥ $k$ ç‚ºå¥‡æ•¸ï¼Œå‰‡ $1 - (-1)^k = 2$

æ‰€ä»¥ä¸Šå¼è®Šæˆï¼š

$$
\sum_{\text{odd } k} 2 \binom{n}{k} = 2^n
$$

æ•´ç†å¾—ï¼š

$$
\sum_{\text{odd } k} \binom{n}{k} = 2^{n-1}
$$

å¾—è­‰ã€‚
